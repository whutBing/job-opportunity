<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // 定义一个返回 Promise 的异步函数
      const asyncFunction = (value, delay, shouldReject) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            if (shouldReject) {
              reject(`Rejected: ${value}`);
            } else {
              resolve(`Resolved: ${value}`);
            }
          }, delay);
        });
      };

      // 调用 myPromiseSettled 函数
      const promises = [
        asyncFunction("A", 1000, false),
        asyncFunction("B", 500, true),
        asyncFunction("C", 800, false),
      ];

      // console.log("all", Promise.all(promises));
      // console.log("allSettled", Promise.allSettled(promises));

      Promise.allSettled(promises)
        .then((results) => {
          console.log("", typeof results[0]);
          console.log(results);
        })
        .catch((error) => {
          console.error(error);
        });
    </script>
  </body>
</html>
